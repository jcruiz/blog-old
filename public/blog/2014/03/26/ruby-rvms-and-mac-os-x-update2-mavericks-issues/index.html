
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Ruby RVMs and Mac OS X Update2 (Mavericks) Issues - The Other Radio</title>
  <meta name="author" content="Juan Camilo Ruiz">

  
  <meta name="description" content="Ruby RVMs and Mac OS X Update2 (Mavericks) Issues written Mar 26th, 2014 in Mavericks, RVM, Technology, Workarounds I use RVMs to run ruby &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jcruiz.co/blog/2014/03/26/ruby-rvms-and-mac-os-x-update2-mavericks-issues">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="The Other Radio" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-44281567-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


  <script src="https://widget.battleforthenet.com/widget.js" async></script>
</head>

  <body>
    <a href="/" class="home-icon">
      <img src="/images/home.png"/>
    </a>

    <article role="article" class="full-single-article">
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        <h1>Ruby RVMs and Mac OS X Update2 (Mavericks) Issues</h1>
        <div class="meta">
          written 








  



<time datetime="2014-03-26T00:29:00-07:00" pubdate data-updated="true">Mar 26<span>th</span>, 2014</time>
          

in
<span class="categories">
  
    <a class='category' href='/blog/categories/mavericks/'>Mavericks</a>, <a class='category' href='/blog/categories/rvm/'>RVM</a>, <a class='category' href='/blog/categories/technology/'>Technology</a>, <a class='category' href='/blog/categories/workarounds/'>Workarounds</a>
  
</span>


        </div>
        <p>I use <a href="http://rvm.io/">RVMs</a> to run ruby applications such as this blog and @Moovweb’s pre-release software built via <a href="http://en.wikipedia.org/wiki/RubyGems">ruby gems</a>. </p>

<p>A friend of mine and I are going to try to work on a Rails application, which is a good opportunity for me to understand the technology behind so many apps nowadays. </p>

<p>As I was getting my environment ready, I ran in some issues on a couple of computers that I had recently updated to Mavericks update 2, this is what happened. I advice that you read the end of this post first… trust me.
<!--more-->
The first symthom is when you try to install a RVM version and you get messages of this type:</p>

<pre><code>ruby-2.0.0-p247 - #installing.................................................................................................................................
Retrieving rubygems-2.1.11
There is no checksum for 'http://production.cf.rubygems.org/rubygems/rubygems-2.1.11.tgz' or 'rubygems-2.1.11.tgz', it's not possible to validate it.
This could be because your RVM install's list of versions is out of date. You may want to
update your list of rubies by running 'rvm get stable' and try again.
If that does not resolve the issue and you wish to continue with unverified download
add '--verify-downloads 1' after the command.

There has been an error while trying to fetch rubygems.
Halting the installation.
</code></pre>

<p>Even if you get this error, it seems that the installation was successful. Now I tried to run a rails command:</p>

<pre><code>$ rails console
Could not find rake-10.1.1 in any of the sources
Run `bundle install` to install missing gems.
</code></pre>

<p>So then I follow the instruction:</p>

<pre><code>$ bundle install
</code></pre>

<p>And bump into the error:</p>

<pre><code>Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.

/Users/juanca/.rvm/rubies/ruby-2.0.0-p247/bin/ruby extconf.rb
checking for pg_config... no
No pg_config... trying anyway. If building fails, please try again with
 --with-pg-config=/path/to/pg_config
checking for libpq-fe.h... no
Can't find the 'libpq-fe.h header
*** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of necessary
libraries and/or headers.  Check the mkmf.log file for more details.  You may
need configuration options.

Provided configuration options:
	--with-opt-dir
	--with-opt-include
	--without-opt-include=${opt-dir}/include
	--with-opt-lib
	--without-opt-lib=${opt-dir}/lib
	--with-make-prog
	--without-make-prog
	--srcdir=.
	--curdir
	--ruby=/Users/juanca/.rvm/rubies/ruby-2.0.0-p247/bin/ruby
	--with-pg
	--without-pg
	--with-pg-dir
	--without-pg-dir
	--with-pg-include
	--without-pg-include=${pg-dir}/include
	--with-pg-lib
	--without-pg-lib=${pg-dir}/
	--with-pg-config
	--without-pg-config
	--with-pg_config
	--without-pg_config


Gem files will remain installed in /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/pg-0.15.1 for inspection.
Results logged to /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/pg-0.15.1/ext/gem_make.out
An error occurred while installing pg (0.15.1), and Bundler cannot continue.
Make sure that `gem install pg -v '0.15.1'` succeeds before bundling.
</code></pre>

<p>So after looking around, I discover that pg stands for <a href="http://www.postgresql.org">postgresql</a> so then it was suggested that I could installed using <a href="http://brew.sh">brew</a>. The plan of attack was to manage to install all of the above to then re-run the bundle install.</p>

<p>Unfortunately this attempt also failed, after running bundle install again, I got.</p>

<pre><code>Users/juanca/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require': dlopen(/Users/juanca/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/x86_64-darwin13.1.0/digest/sha1.bundle, 9): Library not loaded: /opt/local/lib/libssl.1.0.0.dylib (LoadError)
Referenced from: /Users/juanca/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/x86_64-darwin13.1.0/digest/sha1.bundle
Reason: image not found - /Users/juanca/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/x86_64-darwin13.1.0/digest/sha1.bundle
from /Users/juanca/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/definition.rb:1:in `&lt;top (required)&gt;'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler.rb:152:in `definition'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/cli.rb:253:in `install'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/vendor/thor/command.rb:27:in `run'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/vendor/thor/invocation.rb:121:in `invoke_command'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/vendor/thor.rb:363:in `dispatch'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/vendor/thor/base.rb:440:in `start'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/cli.rb:10:in `start'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/bin/bundle:20:in `block in &lt;top (required)&gt;'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/friendly_errors.rb:5:in `with_friendly_errors'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/bin/bundle:20:in `&lt;top (required)&gt;'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/bin/bundle:23:in `load'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/bin/bundle:23:in `&lt;main&gt;'
</code></pre>

<p>This story ends bad. After my many attempts, I ended up removing all rvms from my system and then re-installing everything again. I believe that after update symbolic links got removed. If you have had a similar experience or found a better workaround please leave a comment.</p>


        <hr class="divider-short"/>
        
        
      </div>
    </div>
  </div>
</article>

<hr class="divider-short"/>

<div class="archive-link">
  <div class="container">
    <div class="row">
      <div class="col-md-8 col-md-offset-2">
        
          <a class="pull-left" href="/blog/2014/03/02/traveling-to-bogota-here-are-my-recommendations-part-1/" title="Previous Post: Traveling to Bogota? Here are my recommendations part 1">&laquo; Previous: Traveling to Bogota? Here are my recommendations part 1</a>
        

        
          <a class="pull-right" href="/blog/2014/07/15/en-la-copa/" title="Next Post: En La Copa, Brasil demuestra su potencial una vez más">Next: En La Copa, Brasil demuestra su potencial una vez más &raquo;</a>
        
      </div>
    </div>
  </div>
</div>

    <footer id="footer" class="her-row">
  <div class="container">
    <div class="row">
      <div class="col-md-1">
  <a href="/"><h4>Home</h4></a>
</div>

<div class="col-md-2">
  <div class="social-icon-list">
    
    <a href="https://twitter.com/juanca"><img src="/images/glyphicons_social_31_twitter.png"/></a>
    

    
    <a href="https://github.com/jcruiz"><img src="/images/glyphicons_social_21_github.png"/></a>
    

    
    <a href="https://linkedin.com/in/juancamiloruiz"><img src="/images/glyphicons_social_17_linked_in.png"/></a>
    

    
  </div>
</div>

<div class="pull-right">
  <h4>Powered by <a href="http://octopress.org/">Octopress</a>. Designed by <a href="http://AdrianArtiles.com">Adrian Artiles</a>.</h4>
</div>


    </div>
  </div>
</footer>

  </body>
</html>
