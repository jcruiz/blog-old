
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Ruby RVMs and Mac OS X Update2 (Mavericks) Issues - The Other Radio</title>
  <meta name="author" content="Juan Camilo Ruiz">

  
  <meta name="description" content="I use RVMs to run ruby applications such as this blog and @Moovweb&rsquo;s pre-release software built via ruby gems. A friend of mine and I are going &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://jcruiz.co/blog/2014/03/26/ruby-rvms-and-mac-os-x-update2-mavericks-issues">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="The Other Radio" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-44281567-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">The Other Radio</a></h1>
  
    <h2>A Colombian geeking out in the Silicon Valley</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:jcruiz.co" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Ruby RVMs and Mac OS X Update2 (Mavericks) Issues</h1>
    
    
      <p class="meta">
        








  


<time datetime="2014-03-26T00:29:00-07:00" pubdate data-updated="true">Mar 26<span>th</span>, 2014</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>I use <a href="http://rvm.io/">RVMs</a> to run ruby applications such as this blog and @Moovweb&rsquo;s pre-release software built via <a href="http://en.wikipedia.org/wiki/RubyGems">ruby gems</a>.</p>

<p>A friend of mine and I are going to try to work on a Rails application, which is a good opportunity for me to understand the technology behind so many apps nowadays.</p>

<p>As I was getting my environment ready, I ran in some issues on a couple of computers that I had recently updated to Mavericks update 2, this is what happened. I advice that you read the end of this post first&hellip; trust me.</p>

<!--more-->


<p>The first symthom is when you try to install a RVM version and you get messages of this type:</p>

<pre><code>ruby-2.0.0-p247 - #installing.................................................................................................................................
Retrieving rubygems-2.1.11
There is no checksum for 'http://production.cf.rubygems.org/rubygems/rubygems-2.1.11.tgz' or 'rubygems-2.1.11.tgz', it's not possible to validate it.
This could be because your RVM install's list of versions is out of date. You may want to
update your list of rubies by running 'rvm get stable' and try again.
If that does not resolve the issue and you wish to continue with unverified download
add '--verify-downloads 1' after the command.

There has been an error while trying to fetch rubygems.
Halting the installation.
</code></pre>

<p>Even if you get this error, it seems that the installation was successful. Now I tried to run a rails command:</p>

<pre><code>$ rails console
Could not find rake-10.1.1 in any of the sources
Run `bundle install` to install missing gems.
</code></pre>

<p>So then I follow the instruction:</p>

<pre><code>$ bundle install
</code></pre>

<p>And bump into the error:</p>

<pre><code>Gem::Installer::ExtensionBuildError: ERROR: Failed to build gem native extension.

/Users/juanca/.rvm/rubies/ruby-2.0.0-p247/bin/ruby extconf.rb
checking for pg_config... no
No pg_config... trying anyway. If building fails, please try again with
 --with-pg-config=/path/to/pg_config
checking for libpq-fe.h... no
Can't find the 'libpq-fe.h header
*** extconf.rb failed ***
Could not create Makefile due to some reason, probably lack of necessary
libraries and/or headers.  Check the mkmf.log file for more details.  You may
need configuration options.

Provided configuration options:
    --with-opt-dir
    --with-opt-include
    --without-opt-include=${opt-dir}/include
    --with-opt-lib
    --without-opt-lib=${opt-dir}/lib
    --with-make-prog
    --without-make-prog
    --srcdir=.
    --curdir
    --ruby=/Users/juanca/.rvm/rubies/ruby-2.0.0-p247/bin/ruby
    --with-pg
    --without-pg
    --with-pg-dir
    --without-pg-dir
    --with-pg-include
    --without-pg-include=${pg-dir}/include
    --with-pg-lib
    --without-pg-lib=${pg-dir}/
    --with-pg-config
    --without-pg-config
    --with-pg_config
    --without-pg_config


Gem files will remain installed in /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/pg-0.15.1 for inspection.
Results logged to /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/pg-0.15.1/ext/gem_make.out
An error occurred while installing pg (0.15.1), and Bundler cannot continue.
Make sure that `gem install pg -v '0.15.1'` succeeds before bundling.
</code></pre>

<p>So after looking around, I discover that pg stands for <a href="http://www.postgresql.org">postgresql</a> so then it was suggested that I could installed using <a href="http://brew.sh">brew</a>. The plan of attack was to manage to install all of the above to then re-run the bundle install.</p>

<p>Unfortunately this attempt also failed, after running bundle install again, I got.</p>

<pre><code>Users/juanca/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require': dlopen(/Users/juanca/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/x86_64-darwin13.1.0/digest/sha1.bundle, 9): Library not loaded: /opt/local/lib/libssl.1.0.0.dylib (LoadError)
Referenced from: /Users/juanca/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/x86_64-darwin13.1.0/digest/sha1.bundle
Reason: image not found - /Users/juanca/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/x86_64-darwin13.1.0/digest/sha1.bundle
from /Users/juanca/.rvm/rubies/ruby-2.0.0-p247/lib/ruby/2.0.0/rubygems/core_ext/kernel_require.rb:45:in `require'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/definition.rb:1:in `&lt;top (required)&gt;'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler.rb:152:in `definition'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/cli.rb:253:in `install'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/vendor/thor/command.rb:27:in `run'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/vendor/thor/invocation.rb:121:in `invoke_command'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/vendor/thor.rb:363:in `dispatch'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/vendor/thor/base.rb:440:in `start'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/cli.rb:10:in `start'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/bin/bundle:20:in `block in &lt;top (required)&gt;'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/lib/bundler/friendly_errors.rb:5:in `with_friendly_errors'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/gems/bundler-1.5.3/bin/bundle:20:in `&lt;top (required)&gt;'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/bin/bundle:23:in `load'
from /Users/juanca/.rvm/gems/ruby-2.0.0-p247@railstutorial_rails_4_0/bin/bundle:23:in `&lt;main&gt;'
</code></pre>

<p>This story ends bad. After my many attempts, I ended up removing all rvms from my system and then re-installing everything again. I believe that after update symbolic links got removed. If you have had a similar experience or found a better workaround please leave a comment.</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Juan Camilo Ruiz</span></span>

      








  


<time datetime="2014-03-26T00:29:00-07:00" pubdate data-updated="true">Mar 26<span>th</span>, 2014</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/mavericks/'>Mavericks</a>, <a class='category' href='/blog/categories/rvm/'>RVM</a>, <a class='category' href='/blog/categories/technology/'>Technology</a>, <a class='category' href='/blog/categories/workarounds/'>Workarounds</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://jcruiz.co/blog/2014/03/26/ruby-rvms-and-mac-os-x-update2-mavericks-issues/" data-via="juanca" data-counturl="http://jcruiz.co/blog/2014/03/26/ruby-rvms-and-mac-os-x-update2-mavericks-issues/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2014/03/02/traveling-to-bogota-here-are-my-recommendations-part-1/" title="Previous Post: Traveling to Bogota? Here are my recommendations part 1">&laquo; Traveling to Bogota? Here are my recommendations part 1</a>
      
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <p>I'm a technologist working as a Product Manager at <a href="http://moovweb.com">Moovweb</a>, Colombian living in the silicon valley.
  	I enjoy blogging about technical topics that are part of my day to day. The views expressed on this blog are personal.</br>
  	I hope you enjoy the blog and I encourage to drop me a line with comments or feedback which is how bloggers know that there is someone out there!</p>
  	<p>Find me on <a href = "http://www.linkedin.com/in/juancamiloruiz/">linkedIn</a> for more information</p>
</section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/03/26/ruby-rvms-and-mac-os-x-update2-mavericks-issues/">Ruby RVMs and Mac OS X Update2 (Mavericks) Issues</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/03/02/traveling-to-bogota-here-are-my-recommendations-part-1/">Traveling to Bogota? Here Are My Recommendations Part 1</a>
      </li>
    
      <li class="post">
        <a href="/blog/2014/02/19/the-no-cable-era/">The No-Cable Era: A Geek's Perspective</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/03/installing-chrome-on-rhel6-dot-3/">Installing Chrome on RHEL6.3</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/30/blogging-like-a-hacker/">Blogging Like a Hacker</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>@Juanca's Twitter</h1>
<a class="twitter-timeline" href="https://twitter.com/juanca" data-widget-id="382388972950806528">Tweets by @juanca</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
</section>
  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Juan Camilo Ruiz -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
